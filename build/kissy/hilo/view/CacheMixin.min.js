/**
 * Hilo 1.0.2 for kissy
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
KISSY.add("hilo/view/CacheMixin",function(e,t,a){var i,h,c={_cacheDirty:!0,cache:function(e){(e||this._cacheDirty||!this._cacheImage)&&this.updateCache()},updateCache:function(){t.browser.supportCanvas&&(i||(i=document.createElement("canvas"),h=i.getContext("2d")),i.width=this.width,i.height=this.height,this._draw(h),this._cacheImage=new Image,this._cacheImage.src=i.toDataURL(),this.drawable=this.drawable||new a,this.drawable.init(this._cacheImage),this._cacheDirty=!1)},setCacheDirty:function(e){this._cacheDirty=e}};return c},{requires:["hilo/core/Hilo","hilo/view/Drawable"]});