/**
 * Hilo 1.0.4 for amd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define("hilo/view/Drawable",["hilo/core/Hilo","hilo/core/Class"],function(i,r){var e=r.create({constructor:function(i){this.init(i)},image:null,rect:null,init:function(r){var t=this,n=t.image;e.isDrawable(r)?t.image=r:i.copy(t,r,!0);var a=t.image;if("string"==typeof a){if(!n||a!==n.getAttribute("src")){t.image=null;var o=new Image;return r.crossOrigin&&(o.crossOrigin=r.crossOrigin),o.onload=function(){o.onload=null,t.init(o)},void(o.src=a)}a=t.image=n}a&&!t.rect&&(t.rect=[0,0,a.width,a.height])},Statics:{isDrawable:function(i){if(!i||!i.tagName)return!1;var r=i.tagName.toLowerCase();return"img"===r||"canvas"===r||"video"===r}}});return e});