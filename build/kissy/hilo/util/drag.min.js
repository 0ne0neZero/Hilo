/**
 * Hilo 1.0.2 for kissy
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
KISSY.add("hilo/util/drag",function(e,t){var n={startDrag:function(e){function n(e){e.stopPropagation(),o(e),E.off(t.event.POINTER_START,n),E.fire("dragStart",f),E.__dragX=E.x-f.x,E.__dragY=E.y-f.y,v||(v=this.getStage()),v.on(t.event.POINTER_MOVE,a),document.addEventListener(t.event.POINTER_END,r)}function r(e){document.removeEventListener(t.event.POINTER_END,r),v&&v.off(t.event.POINTER_MOVE,a),E.fire("dragEnd",f),E.on(t.event.POINTER_START,n)}function a(e){o(e),E.fire("dragMove",f);var t=f.x+E.__dragX,n=f.y+E.__dragY;E.x=Math.max(T,Math.min(d,t)),E.y=Math.max(_,Math.min(g,n))}function o(e){f.preX=f.x,f.preY=f.y,f.x=e.stageX,f.y=e.stageY}function i(){document.removeEventListener(t.event.POINTER_END,r),v&&v.off(t.event.POINTER_MOVE,a),E.off(t.event.POINTER_START,n)}var v,E=this;e=e||[-(1/0),-(1/0),1/0,1/0];var f={x:0,y:0,preX:0,preY:0},T=e[0],_=e[1],d=e[2]==1/0?1/0:T+e[2],g=e[3]==1/0?1/0:_+e[3];E.on(t.event.POINTER_START,n),E.stopDrag=i},stopDrag:function(){}};return n},{requires:["hilo/core/Hilo"]});